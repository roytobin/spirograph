<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
<title>Spirograph</title>

<style>
:root {
    --classic_vis: visible;
    --reality_vis: hidden;
    --abstract_vis: hidden;
    --relabs_vis:  hidden;
}
* {
	/* To keep the width at 300px, no matter the amount of padding,
	   you can use the box-sizing property.  This causes the element to
	   maintain its width; if you increase the padding, the available
	   content space will decrease. */
    box-sizing: border-box;
}

body {
    background-color : #f1f1f1;
}

.column {
    float: left;
    padding: 5px;
}

.clearfix::after {
    content: "";
    clear: both;
    display: table;
}

.menu {
    /* Seems if width is 25%, then making browser skinny will not push controls below canvas. Huh? /**/
    width: 25%;
    xxborder: 2px solid red;  /* xx */
}

.clickable:hover {
    cursor: pointer
}
#myDiv:hover {
    resize: both;
    overflow: auto;
}
#myCanvas {
    display: block;
    margin-left: auto;
    margin-right: auto;
    border:1px solid black;
}
.drawable {
    width: 75%;
    xxborder: 2px solid lawngreen;  /* xx */
}
.menu ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

.menu li:hover {
    background-color: #339ec4;
}
.menu li {
    padding: 8px;
    margin-bottom: 6px;
    background-color: #33b5e5;
    color: #ffffffff;
}
.classic {
    visibility: var(--classic_vis);
}
.reality {
    visibility: var(--reality_vis);
}
.abstract {
    visibility: var(--abstract_vis);
}
.relabs {
    visibility: var(--relabs_vis);
}
.medfloat {
    width: 8em;
    margin: 4;
    margin-left: 2px;
    margin-right: 4px;
    padding: 4;
}
.medint {
    width: 5em;
    margin: 4;
    margin-left: 2px;
    margin-right: 4px;
    padding: 4;
}
.smallint {
    width: 5em;
    margin: 4;
    margin-left: 2px;
    margin-right: 4px;
    margin-bottom: 8px;
    padding: 4;
}

li {
    float: left;
}
li a {
    display: inline-block;
    color: white;
    text-align: center;
}
.butt99:hover {
    cursor: pointer
}
.butt99 {
    /*margin: auto;  /**/
    margin-left: 20px;  /**/
}
</style>

<script>
"use strict"
const twopi = 2.0 * Math.PI;
const c_gtlabel = "Gear Teeth";
const c_gtlist  = "Gear Teeth (list)";
const c_polabel = "Penhole Offset %";
const c_polist  = "Penhole Offset % (list)";
const c_rtlabel = "Ring Teeth";
const c_rtlist  = "Ring Teeth (list)";
var fewRatio = [0x7805,0x7305,0x6e05,0x6905,0x6405,0x7806,0x7606,0x7506,0x7006,0x6306,0x4b05,0x5106,
  0x3e05,0x4506,0x4006,0x760c,0x5409,0x580a,0x740e,0x3f08,0x680e,0x640e,0x440a,0x410a,0x4b0c,0x3c0a,
  0x450c,0x6412,0x400c,0x3e0c,0x3c0c,0x5712,0x460f,0x6416,0x420f,0x5e16,0x4b12,0x3c0f,0x3f10,0x641a,
  0x3c10,0x3e11,0x4b15,0x7622,0x4414,0x3c12,0x4114,0x6620,0x4b18,0x6822,0x3e15,0x6422,0x6222,0x6022,
  0x4b1b,0x3c16,0x4018,0x6426,0x3e18,0x3d18,0x3c18,0x7630,0x5724,0x642a,0x3f1b,0x6a2e,0x4b21,0x5e2a,
  0x421e,0x642e,0x3c1c,0x4c24,0x4b24,0x4e26,0x3c1e,0x3e1f,0x3f20,0x4a26,0x4b27,0x6e3a,0x743e,0x6436,
  0x4023,0x703e,0x4b2a,0x3c22,0x3d23,0x643a,0x5c36,0x4026,0x3f26,0x5433,0x5836,0x5736,0x764a,0x5234,
  0x4029,0x442c,0x4e33,0x6a46,0x3c28,0x6242,0x5e40,0x402c,0x3e2b,0x7250,0x7452,0x3f2d,0x563e,0x4230,
  0x402f,0x513c,0x3c2d,0x3d2e,0x5c46,0x3c2e,0x6a52,0x5240,0x3d30,0x3f32,0x3d31,0x725c,0x7660,0x4e40,
  0x6856,0x3d33,0x584a,0x7664,0x5246,0x564a,0x3c34,0x4038,0x544a,0x6a5e,0x5e54,0x3d37,0x564e,0x746a,
  0x3f3a,0x524c,0x3d39,0x4440,0x4c48,0x5652,0x6662,0x3c3a,0x4c4a,0x6664];
var theRatio = 53;
var calcRatio = [];	// the calculated ratios, from the encoded elements of fewRatio[]

var cusp = [];   // The configurations that name k cusps
var relcu = [];  // The RELated CUsp ratios, (the ratios related to a given k cusp value)
cusp[2] = [0x6834];
cusp[3] = [0x6923,0x6946];
cusp[4] = [0x681a,0x684e];
cusp[5] = [0x6915,0x692a,0x693f,0x6954];
cusp[6] = [0x6611,0x6655];
cusp[7] = [0x690f,0x691e,0x692d,0x693c,0x694b,0x695a];
cusp[8] = [0x680d,0x6827,0x6841,0x685b];
cusp[9] = [0x630b,0x6316,0x632c,0x6337,0x634d,0x6358];
cusp[10] = [0x640a,0x641e,0x6446,0x645a];
cusp[11] = [0x6309,0x6312,0x631b,0x6324,0x632d,0x6336,0x633f,0x6348,0x6351,0x635a];
cusp[12] = [0x6008,0x6028,0x6038,0x6058];
cusp[13] = [0x6808,0x6810,0x6818,0x6820,0x6828,0x6830,0x6838,0x6840,0x6848,0x6850,0x6858,0x6860];
cusp[14] = [0x6207,0x6215,0x6223,0x623f,0x624d,0x625b];
cusp[15] = [0x6907,0x690e,0x691c,0x6931,0x6938,0x694d,0x695b,0x6962];
cusp[16] = [0x6006,0x6012,0x601e,0x602a,0x6036,0x6042,0x604e,0x605a];
cusp[17] = [0x6606,0x660c,0x6612,0x6618,0x661e,0x6624,0x662a,0x6630,0x6636,0x663c,0x6642,0x6648,0x664e,0x6654,0x665a,0x6660];
cusp[18] = [0x5a05,0x5a19,0x5a23,0x5a37,0x5a41,0x5a55];
cusp[19] = [0x5f05,0x5f0a,0x5f0f,0x5f14,0x5f19,0x5f1e,0x5f23,0x5f28,0x5f2d,0x5f32,0x5f37,0x5f3c,0x5f41,0x5f46,0x5f4b,0x5f50,0x5f55,0x5f5a];
cusp[20] = [0x6405,0x640f,0x6423,0x642d,0x6437,0x6441,0x6455,0x645f];
cusp[21] = [0x6905,0x690a,0x6914,0x6919,0x6928,0x6932,0x6937,0x6941,0x6950,0x6955,0x695f,0x6964];
cusp[22] = [0x6e05,0x580c,0x5814,0x581c,0x5824,0x5834,0x583c,0x5844,0x584c,0x5854];
cusp[23] = [0x7305,0x5c08,0x5c0c,0x5c10,0x5c14,0x5c18,0x5c1c,0x5c24,0x5c28,0x5c2c,0x5c30,0x5c34,0x5c38,0x5c3c,0x5c44,0x5c48,0x5c4c,0x5c50,0x5c54,0x5c58];
cusp[24] = [0x7805,0x6014,0x601c,0x602c,0x6034,0x6044,0x604c,0x605c];
cusp[25] = [0x6408,0x640c,0x6410,0x6418,0x641c,0x6420,0x6424,0x642c,0x6430,0x6434,0x6438,0x6440,0x6444,0x6448,0x644c,0x6454,0x6458,0x645c,0x6460];
cusp[26] = [0x680c,0x6814,0x681c,0x6824,0x682c,0x683c,0x6844,0x684c,0x6854,0x685c,0x6864];
cusp[27] = [0x5106,0x510c,0x510f,0x5115,0x5118,0x511e,0x5121,0x5127,0x512a,0x5130,0x5133,0x5139,0x513c,0x5142,0x5145,0x514b,0x514e];
cusp[28] = [0x5409,0x540f,0x541b,0x5421,0x5427,0x542d,0x5433,0x5439,0x5445,0x544b,0x5451];
cusp[29] = [0x5706,0x5709,0x570c,0x570f,0x5712,0x5718,0x571b,0x5721,0x5724,0x572a,0x572d,0x5730,0x5736,0x5739,0x573f,0x5742,0x5748,0x574b,0x5751,0x5754];
cusp[30] = [0x5a15,0x5a21,0x5a27,0x5a33,0x5a39,0x5a45,0x5a57];
cusp[31] = [0x5d06,0x5d09,0x5d0c,0x5d0f,0x5d15,0x5d18,0x5d1e,0x5d21,0x5d27,0x5d2a,0x5d30,0x5d36,0x5d39,0x5d3f,0x5d42,0x5d48,0x5d4b,0x5d51,0x5d54,0x5d5a];
cusp[32] = [0x6009,0x600f,0x6015,0x601b,0x6021,0x6027,0x602d,0x6033,0x6039,0x603f,0x6045,0x604b,0x6051,0x6057,0x605d];
cusp[33] = [0x6306,0x630c,0x630f,0x6315,0x6318,0x631e,0x6327,0x632a,0x6330,0x6333,0x6339,0x633c,0x6345,0x634b,0x634e,0x6354,0x6357,0x635d,0x6360];
cusp[34] = [0x6609,0x660f,0x6615,0x661b,0x6621,0x6627,0x662d,0x6639,0x663f,0x6645,0x664b,0x6651,0x6657,0x665d,0x6663];
cusp[35] = [0x6906,0x6909,0x690c,0x6912,0x6918,0x691b,0x6921,0x6927,0x6930,0x6933,0x6936,0x6942,0x6945,0x6948,0x694e,0x6951,0x6957,0x695d,0x6960,0x6966];
cusp[36] = [0x480a,0x480e,0x4816,0x481a,0x4822,0x4826,0x482e,0x4832,0x483a,0x483e,0x4846];
cusp[37] = [0x6f06,0x4a06,0x4a08,0x4a0c,0x4a10,0x4a14,0x4a18,0x4a1a,0x4a1e,0x4a22,0x4a26,0x4a2a,0x4a2e,0x4a32,0x4a34,0x4a38,0x4a3c,0x4a40,0x4a44,0x4a48];
cusp[38] = [0x4c06,0x4c0a,0x4c0e,0x4c12,0x4c16,0x4c1a,0x4c1e,0x4c22,0x4c2a,0x4c2e,0x4c32,0x4c36,0x4c3a,0x4c3e,0x4c42,0x4c46,0x4c4a];
cusp[39] = [0x7506,0x4e08,0x4e0a,0x4e0e,0x4e10,0x4e14,0x4e1c,0x4e20,0x4e22,0x4e26,0x4e28,0x4e2c,0x4e32,0x4e38,0x4e3a,0x4e3e,0x4e40,0x4e44,0x4e4a,0x4e4c];
cusp[40] = [0x5006,0x500e,0x5012,0x5016,0x501a,0x5022,0x5026,0x502a,0x502e,0x5036,0x503a,0x503e,0x5042,0x504a,0x504e];
cusp[41] = [0x5206,0x5208,0x520a,0x520e,0x5212,0x5216,0x521a,0x521e,0x5222,0x5226,0x522a,0x522e,0x5232,0x5236,0x523a,0x523e,0x5242,0x5246,0x524a,0x524e];
cusp[42] = [0x540a,0x5416,0x541a,0x5422,0x5426,0x542e,0x5432,0x543a,0x543e,0x544a,0x5452];
cusp[43] = [0x5606,0x5608,0x560a,0x560e,0x5612,0x5616,0x561a,0x5620,0x5624,0x5628,0x562c,0x5630,0x5634,0x5638,0x563e,0x5642,0x5646,0x564a,0x564e,0x5652];
cusp[44] = [0x5806,0x580a,0x580e,0x5812,0x581a,0x581e,0x5822,0x5826,0x582a,0x582e,0x5832,0x5836,0x583a,0x583e,0x5846,0x584a,0x584e,0x5852,0x5856];
cusp[45] = [0x5a08,0x5a0e,0x5a10,0x5a16,0x5a1a,0x5a1c,0x5a20,0x5a22,0x5a26,0x5a2c,0x5a2e,0x5a34,0x5a38,0x5a3e,0x5a40,0x5a44,0x5a4a,0x5a52,0x5a56,0x5a58];
cusp[46] = [0x5c06,0x5c0a,0x5c0e,0x5c12,0x5c16,0x5c1a,0x5c1e,0x5c22,0x5c26,0x5c2a,0x5c32,0x5c36,0x5c3a,0x5c3e,0x5c42,0x5c46,0x5c4a,0x5c52,0x5c56,0x5c5a];
cusp[47] = [0x5e06,0x5e08,0x5e0a,0x5e10,0x5e14,0x5e18,0x5e1e,0x5e22,0x5e26,0x5e2c,0x5e30,0x5e34,0x5e3a,0x5e3e,0x5e42,0x5e48,0x5e4c,0x5e50,0x5e56,0x5e5a];
cusp[48] = [0x600a,0x600e,0x6016,0x601a,0x6022,0x6026,0x602e,0x6032,0x603a,0x603e,0x6046,0x604a,0x6052,0x6056,0x605e];
cusp[49] = [0x6206,0x6208,0x620a,0x6210,0x6214,0x621a,0x621e,0x6224,0x6228,0x622e,0x6232,0x6236,0x623c,0x6240,0x6248,0x624a,0x6250,0x6256,0x625a,0x625e];
cusp[50] = [0x6406,0x640e,0x6412,0x6416,0x641a,0x6422,0x6426,0x642a,0x642e,0x6436,0x643a,0x643e,0x6442,0x644a,0x644e,0x6452,0x6456,0x645e,0x6462];
cusp[51] = [0x6608,0x660a,0x660e,0x6610,0x6616,0x661a,0x6620,0x6626,0x662c,0x662e,0x6634,0x663a,0x663e,0x6646,0x664a,0x6650,0x6652,0x6658,0x665c,0x6662];
cusp[52] = [0x6806,0x680a,0x680e,0x6812,0x6816,0x681e,0x6822,0x6826,0x682a,0x6832,0x6836,0x683a,0x6842,0x6846,0x684a,0x6852,0x6856,0x685a,0x685e,0x6866];
cusp[53] = [0x6a06,0x6a08,0x6a0c,0x6a10,0x6a16,0x6a1c,0x6a20,0x6a26,0x6a2c,0x6a30,0x6a36,0x6a3c,0x6a40,0x6a46,0x6a4c,0x6a50,0x6a56,0x6a5c,0x6a60,0x6a66];
cusp[54] = [0x6c0a,0x6c0e,0x6c16,0x6c1a,0x6c22,0x6c26,0x6c2e,0x6c32,0x6c3a,0x6c3e,0x6c46,0x6c4a,0x6c52,0x6c56,0x6c5e,0x6c62,0x6c6a];
cusp[55] = [0x6e06,0x6e08,0x6e0c,0x6e12,0x6e18,0x6e1c,0x6e22,0x6e2a,0x6e2e,0x6e34,0x6e38,0x6e3e,0x6e44,0x6e48,0x6e4e,0x6e54,0x6e5c,0x6e5e,0x6e66,0x6e6a];
cusp[56] = [0x7006,0x700a,0x7012,0x7016,0x701a,0x701e,0x7022,0x702e,0x7032,0x7036,0x703a,0x703e,0x704a,0x704e,0x7052,0x7056,0x705a,0x7066,0x706a,0x706e];
cusp[57] = [0x7208,0x720a,0x720e,0x7214,0x721a,0x7220,0x7228,0x722c,0x722e,0x7234,0x723a,0x7240,0x7246,0x7250,0x7252,0x7256,0x725c,0x7262,0x7268,0x726e];
cusp[58] = [0x7406,0x740a,0x740e,0x7412,0x741a,0x741e,0x7426,0x742a,0x7432,0x7436,0x743e,0x7442,0x7446,0x744e,0x7452,0x745a,0x745e,0x7466,0x746a,0x7472];
cusp[59] = [0x7606,0x7608,0x760c,0x7612,0x7618,0x761e,0x7624,0x762a,0x7630,0x7636,0x763c,0x7642,0x7648,0x764e,0x7654,0x765a,0x7660,0x7666,0x766c,0x7672];
cusp[60] = [0x3c07,0x3c0b,0x3c0d,0x3c11,0x3c13,0x3c17,0x3c1d,0x3c1f,0x3c25,0x3c29,0x3c2b,0x3c2f,0x3c31,0x3c35,0x3c3b];
cusp[61] = [0x3d05,0x3d06,0x3d07,0x3d0a,0x3d0d,0x3d10,0x3d13,0x3d16,0x3d19,0x3d1c,0x3d1f,0x3d22,0x3d25,0x3d28,0x3d2b,0x3d2e,0x3d31,0x3d34,0x3d37,0x3d3a];
cusp[62] = [0x3e05,0x3e07,0x3e09,0x3e0b,0x3e0d,0x3e11,0x3e13,0x3e17,0x3e19,0x3e1d,0x3e21,0x3e23,0x3e27,0x3e29,0x3e2d,0x3e2f,0x3e33,0x3e35,0x3e39,0x3e3b];
cusp[63] = [0x3f05,0x3f08,0x3f0a,0x3f0b,0x3f0d,0x3f10,0x3f13,0x3f17,0x3f1a,0x3f1d,0x3f20,0x3f25,0x3f26,0x3f29,0x3f2e,0x3f32,0x3f34,0x3f37,0x3f3a,0x3f3d];
cusp[64] = [0x4005,0x4007,0x4009,0x400b,0x400d,0x4011,0x4015,0x4017,0x401b,0x401d,0x4021,0x4025,0x4027,0x402b,0x402d,0x4031,0x4035,0x4037,0x403b,0x403d];
cusp[65] = [0x4106,0x4107,0x4108,0x410b,0x410e,0x4111,0x4115,0x4117,0x411b,0x411f,0x4121,0x4124,0x4129,0x412b,0x412e,0x4131,0x4135,0x4138,0x413b,0x413e];
cusp[66] = [0x4205,0x4207,0x420d,0x4211,0x4213,0x4217,0x4219,0x421d,0x421f,0x4223,0x4225,0x4229,0x422b,0x422f,0x4231,0x4235,0x423b,0x423d,0x4241];
cusp[67] = [0x4305,0x4306,0x4307,0x430b,0x430e,0x4311,0x4315,0x4318,0x431b,0x431f,0x4322,0x4325,0x4329,0x432c,0x432f,0x4333,0x4336,0x4339,0x433d,0x4340];
cusp[68] = [0x4405,0x4407,0x4409,0x440b,0x440f,0x4413,0x4415,0x4419,0x441d,0x441f,0x4423,0x4427,0x4429,0x442d,0x4431,0x4435,0x4437,0x443b,0x443f,0x4441];
cusp[69] = [0x4505,0x4507,0x4508,0x450b,0x450e,0x4513,0x4516,0x4519,0x451c,0x4520,0x4523,0x4526,0x452b,0x452f,0x4531,0x4534,0x4538,0x453b,0x4540,0x4543];
cusp[70] = [0x4609,0x460b,0x460d,0x4611,0x4613,0x4617,0x461b,0x461d,0x461f,0x4621,0x4625,0x4627,0x462b,0x462f,0x4633,0x4635,0x4639,0x463d,0x4643,0x4645];
cusp[71] = [0x4705,0x4706,0x4708,0x470b,0x470f,0x4712,0x4716,0x4719,0x471d,0x4720,0x4724,0x4728,0x472b,0x472f,0x4732,0x4736,0x4739,0x473d,0x4740,0x4744];
cusp[72] = [0x4805,0x4807,0x480b,0x480d,0x4811,0x4813,0x4817,0x481d,0x481f,0x4823,0x4825,0x4829,0x482f,0x4831,0x4835,0x4837,0x483b,0x4841,0x4843,0x4847];
cusp[73] = [0x4905,0x4906,0x4908,0x490b,0x490f,0x4913,0x4916,0x491a,0x491e,0x4921,0x4925,0x4929,0x492c,0x4930,0x4934,0x4937,0x493b,0x493f,0x4942,0x4946];
cusp[74] = [0x4a05,0x4a07,0x4a09,0x4a0d,0x4a0f,0x4a13,0x4a17,0x4a1b,0x4a1f,0x4a23,0x4a27,0x4a29,0x4a2d,0x4a31,0x4a35,0x4a39,0x4a3d,0x4a3f,0x4a43,0x4a47];
cusp[75] = [0x4b07,0x4b08,0x4b0b,0x4b0d,0x4b10,0x4b13,0x4b17,0x4b1c,0x4b1f,0x4b22,0x4b26,0x4b2b,0x4b2e,0x4b31,0x4b35,0x4b3a,0x4b3d,0x4b40,0x4b44,0x4b49];
cusp[76] = [0x4c05,0x4c07,0x4c09,0x4c0d,0x4c11,0x4c15,0x4c17,0x4c1b,0x4c1f,0x4c23,0x4c27,0x4c2b,0x4c2f,0x4c33,0x4c37,0x4c3b,0x4c3d,0x4c41,0x4c45,0x4c49];
cusp[77] = [0x4d05,0x4d06,0x4d08,0x4d0c,0x4d10,0x4d14,0x4d18,0x4d1b,0x4d1f,0x4d24,0x4d27,0x4d2b,0x4d2f,0x4d33,0x4d36,0x4d3a,0x4d3e,0x4d43,0x4d47,0x4d4a];
cusp[78] = [0x4e05,0x4e07,0x4e0b,0x4e11,0x4e13,0x4e17,0x4e19,0x4e1d,0x4e23,0x4e25,0x4e29,0x4e2b,0x4e2f,0x4e35,0x4e37,0x4e3b,0x4e43,0x4e47,0x4e49,0x4e4d];
cusp[79] = [0x4f05,0x4f06,0x4f08,0x4f0c,0x4f10,0x4f14,0x4f18,0x4f1c,0x4f20,0x4f24,0x4f28,0x4f2c,0x4f30,0x4f34,0x4f38,0x4f3c,0x4f40,0x4f44,0x4f48,0x4f4c];
cusp[80] = [0x5007,0x5009,0x500b,0x500d,0x5011,0x5015,0x501b,0x501d,0x5021,0x5025,0x5029,0x502f,0x5031,0x5035,0x5039,0x503d,0x5043,0x5045,0x5049,0x504d];
cusp[81] = [0x5105,0x5107,0x510a,0x510d,0x5111,0x5116,0x5119,0x511d,0x5122,0x5125,0x5129,0x512e,0x5131,0x5135,0x513a,0x513d,0x5141,0x5146,0x5149,0x514d];
cusp[82] = [0x5205,0x5207,0x5209,0x520d,0x5211,0x5215,0x5219,0x521d,0x5221,0x5225,0x522b,0x522f,0x5233,0x5237,0x523b,0x523f,0x5243,0x5247,0x524b,0x524f];
cusp[83] = [0x5305,0x5306,0x5309,0x530d,0x5311,0x5315,0x5319,0x531e,0x5322,0x5326,0x532a,0x532e,0x5332,0x5336,0x533b,0x533f,0x5343,0x5347,0x534b,0x534f];
cusp[84] = [0x5405,0x540b,0x540d,0x5411,0x5413,0x5417,0x541d,0x541f,0x5425,0x5429,0x542b,0x542f,0x5435,0x5437,0x543b,0x5441,0x5447,0x5449,0x544f,0x5453];
cusp[85] = [0x5506,0x5507,0x5509,0x550d,0x5512,0x5516,0x551a,0x551f,0x5524,0x5527,0x552b,0x552f,0x5534,0x5538,0x553d,0x5540,0x5545,0x5549,0x554d,0x5551];
cusp[86] = [0x5605,0x5607,0x5609,0x560d,0x5613,0x5617,0x561b,0x561f,0x5623,0x5627,0x562d,0x5631,0x5635,0x5639,0x563d,0x5641,0x5645,0x564b,0x564f,0x5653];
cusp[87] = [0x5705,0x5707,0x570a,0x570e,0x5713,0x5716,0x571c,0x571f,0x5723,0x5728,0x572c,0x5731,0x5735,0x573b,0x573d,0x5743,0x5746,0x574a,0x574f,0x5753];
cusp[88] = [0x5805,0x5807,0x5809,0x580f,0x5813,0x5817,0x581b,0x581f,0x5825,0x5829,0x582d,0x5831,0x5835,0x583b,0x583f,0x5843,0x5847,0x584b,0x5851,0x5855];
cusp[89] = [0x5905,0x5906,0x5909,0x590e,0x5912,0x5917,0x591b,0x5920,0x5924,0x5929,0x592d,0x5931,0x5936,0x593a,0x593f,0x5943,0x5948,0x594c,0x5951,0x5955];
cusp[90] = [0x5a07,0x5a0b,0x5a0d,0x5a11,0x5a13,0x5a17,0x5a1d,0x5a25,0x5a29,0x5a2b,0x5a2f,0x5a35,0x5a3b,0x5a3d,0x5a43,0x5a47,0x5a49,0x5a4d,0x5a53,0x5a59];
cusp[91] = [0x5b05,0x5b06,0x5b0a,0x5b0f,0x5b13,0x5b17,0x5b1d,0x5b20,0x5b25,0x5b29,0x5b2e,0x5b33,0x5b37,0x5b3c,0x5b40,0x5b45,0x5b49,0x5b4f,0x5b52,0x5b57];
cusp[92] = [0x5c05,0x5c07,0x5c0b,0x5c0f,0x5c13,0x5c19,0x5c1d,0x5c21,0x5c25,0x5c2b,0x5c2f,0x5c33,0x5c39,0x5c3d,0x5c41,0x5c47,0x5c4b,0x5c4f,0x5c53,0x5c59];
cusp[93] = [0x5d05,0x5d07,0x5d0a,0x5d0e,0x5d13,0x5d19,0x5d1c,0x5d22,0x5d26,0x5d2b,0x5d2f,0x5d34,0x5d38,0x5d3d,0x5d43,0x5d46,0x5d4c,0x5d50,0x5d55,0x5d59];
cusp[94] = [0x5e05,0x5e07,0x5e0b,0x5e0f,0x5e13,0x5e19,0x5e1d,0x5e21,0x5e27,0x5e2b,0x5e31,0x5e35,0x5e39,0x5e3f,0x5e43,0x5e47,0x5e4d,0x5e51,0x5e55,0x5e5b];
cusp[95] = [0x5f06,0x5f07,0x5f0b,0x5f10,0x5f15,0x5f18,0x5f1d,0x5f22,0x5f27,0x5f2b,0x5f30,0x5f35,0x5f3a,0x5f3e,0x5f43,0x5f48,0x5f4d,0x5f51,0x5f56,0x5f5b];
cusp[96] = [0x6005,0x6007,0x600b,0x6011,0x6017,0x6019,0x601d,0x6023,0x6029,0x602f,0x6031,0x6035,0x603b,0x6041,0x6047,0x6049,0x604d,0x6053,0x6059,0x605f];
cusp[97] = [0x6105,0x6106,0x610a,0x610f,0x6114,0x6119,0x611e,0x6122,0x6127,0x612c,0x6131,0x6136,0x613b,0x6140,0x6144,0x6149,0x614e,0x6153,0x6158,0x615d];
cusp[98] = [0x6205,0x6209,0x620b,0x620f,0x6217,0x6219,0x621f,0x6225,0x6229,0x622d,0x6233,0x6237,0x623b,0x6241,0x6245,0x624b,0x624f,0x6255,0x6259,0x625f];
cusp[99] = [0x6305,0x6307,0x630a,0x6310,0x6314,0x6319,0x631f,0x6323,0x6328,0x632e,0x6332,0x6338,0x633d,0x6341,0x6346,0x634c,0x6350,0x6355,0x635b,0x635f];
cusp[100] = [0x6407,0x6409,0x640b,0x6411,0x6415,0x641b,0x641f,0x6425,0x6429,0x642f,0x6433,0x6439,0x643d,0x6443,0x6447,0x644d,0x6451,0x6457,0x645b,0x6461];
cusp[101] = [0x6505,0x6506,0x650b,0x6510,0x6515,0x651a,0x651f,0x6524,0x6529,0x652e,0x6533,0x6538,0x653d,0x6542,0x6547,0x654c,0x6551,0x6556,0x655b,0x6560];
cusp[102] = [0x6605,0x6607,0x660b,0x6613,0x6617,0x661d,0x661f,0x6625,0x6629,0x662f,0x6635,0x663b,0x6641,0x6643,0x6649,0x664d,0x6653,0x6659,0x665f,0x6661];
cusp[103] = [0x6705,0x6706,0x670b,0x6710,0x6715,0x671a,0x671f,0x6725,0x672a,0x672f,0x6734,0x6739,0x673e,0x6743,0x6749,0x674e,0x6753,0x6758,0x675d,0x6762];
cusp[104] = [0x6805,0x6807,0x680b,0x6811,0x6815,0x681b,0x6821,0x6825,0x682b,0x682f,0x6835,0x683b,0x683f,0x6845,0x6849,0x684f,0x6855,0x6859,0x685f,0x6863];
cusp[105] = [0x6908,0x690b,0x690d,0x6910,0x6916,0x691d,0x6920,0x6925,0x692b,0x6934,0x6935,0x693a,0x6940,0x6947,0x694a,0x694f,0x6956,0x695c,0x6961,0x6965];
cusp[106] = [0x6a05,0x6a07,0x6a0b,0x6a11,0x6a17,0x6a1b,0x6a21,0x6a27,0x6a2b,0x6a31,0x6a37,0x6a3b,0x6a41,0x6a45,0x6a4b,0x6a51,0x6a55,0x6a5b,0x6a61,0x6a65];
cusp[107] = [0x6b05,0x6b06,0x6b0b,0x6b11,0x6b16,0x6b1b,0x6b21,0x6b26,0x6b2b,0x6b31,0x6b36,0x6b3b,0x6b41,0x6b46,0x6b4b,0x6b51,0x6b56,0x6b5b,0x6b61,0x6b66];
cusp[108] = [0x6c05,0x6c07,0x6c0b,0x6c11,0x6c17,0x6c1d,0x6c23,0x6c29,0x6c2f,0x6c31,0x6c37,0x6c3d,0x6c41,0x6c47,0x6c4d,0x6c53,0x6c59,0x6c5f,0x6c65,0x6c67];
cusp[109] = [0x6d05,0x6d06,0x6d0b,0x6d11,0x6d16,0x6d1c,0x6d21,0x6d27,0x6d2c,0x6d32,0x6d37,0x6d3c,0x6d42,0x6d47,0x6d4d,0x6d52,0x6d58,0x6d5d,0x6d63,0x6d68];
cusp[110] = [0x6e07,0x6e09,0x6e0d,0x6e11,0x6e17,0x6e1d,0x6e25,0x6e27,0x6e2f,0x6e33,0x6e39,0x6e3d,0x6e43,0x6e49,0x6e4f,0x6e53,0x6e59,0x6e61,0x6e65,0x6e6b];
cusp[111] = [0x6f05,0x6f07,0x6f0d,0x6f11,0x6f17,0x6f1c,0x6f22,0x6f28,0x6f2e,0x6f32,0x6f38,0x6f3e,0x6f43,0x6f49,0x6f4f,0x6f55,0x6f59,0x6f5f,0x6f64,0x6f6a];
cusp[112] = [0x7005,0x7009,0x700d,0x7011,0x7017,0x701d,0x7025,0x7029,0x702d,0x7033,0x7039,0x7041,0x7045,0x7049,0x704f,0x7055,0x705d,0x7061,0x7065,0x706b];
cusp[113] = [0x7105,0x7106,0x710c,0x7111,0x7117,0x711d,0x7122,0x7128,0x712e,0x7133,0x7139,0x713f,0x7144,0x714a,0x7150,0x7155,0x715b,0x7161,0x7166,0x716c];
cusp[114] = [0x7205,0x7207,0x720d,0x7217,0x7219,0x721d,0x7223,0x7229,0x722f,0x7235,0x723b,0x7241,0x7247,0x724d,0x7253,0x7259,0x7261,0x7265,0x7267,0x726d];
cusp[115] = [0x7306,0x7307,0x730c,0x7312,0x7318,0x731d,0x7324,0x7329,0x732f,0x7334,0x733a,0x7340,0x7347,0x734c,0x7351,0x7357,0x735d,0x7362,0x7368,0x736f];
cusp[116] = [0x7405,0x7407,0x740d,0x7413,0x7419,0x741f,0x7423,0x7429,0x742f,0x7435,0x743b,0x7441,0x7447,0x744d,0x7453,0x7459,0x745d,0x7463,0x7469,0x746f];
cusp[117] = [0x7505,0x7507,0x750e,0x7513,0x7519,0x751f,0x7525,0x7529,0x752f,0x7535,0x753b,0x7543,0x7547,0x754d,0x7552,0x7558,0x755e,0x7564,0x756a,0x7570];
cusp[118] = [0x7605,0x7607,0x760d,0x7613,0x7619,0x761f,0x7625,0x762b,0x7631,0x7637,0x763d,0x7641,0x7647,0x764d,0x7653,0x7659,0x765f,0x7665,0x766b,0x7671];
cusp[119] = [0x7705,0x7706,0x770c,0x7712,0x7718,0x771e,0x7724,0x772b,0x7730,0x7736,0x773c,0x7742,0x7748,0x774e,0x7756,0x775a,0x7760,0x7767,0x776c,0x7772];

var relRatio = 0;
var theCusp = 7;

var root = document.querySelector(':root');
var Anticlockwise = -1;
var ringTeeth = [105];
var gearTeeth = [60];
var Penhole = [63];
var R = 400;
var r = R;
var revolution = 0;
var k = 0;
var rotation = 0;
var division = 0;
var Color = ["blue"];
var Thickness = [1.3];
var Repeat = 0;
var Skip = 1;
var Dirty = true;
var Mode;
var Control = "classic";
var discX = [];
var discY = [];
var gearX = [];
var gearY = [];

function modulo(a,b) {
    if ( a < 0)
        return b+a;
    return a%b;
}
function GCD(a,b) {   // Greatest Common Divisor
    if ( 0 === b ) {
        return Math.abs(a);
    }
    return GCD(b, a%b);  // recur
}
function optimize(a,b) {
    let gg = GCD(a,b);
    return [a/gg, b/gg];
}
function sp_expand(s) {   // take a string and return an expanded list of tokens
    // This regular expression expands substrings that look like (stuff)x4
    s = s.replace( /\((.+?)\)x(\d+)/gi, function (all,c1,c2) {  // c1 and c2 are capture groups
                let ret = "";
                while (c2--) { ret += " "+c1; }
                return ret;
            });
    // This re expands substrings that look like bluex3
    s = s.replace( /(\S+)x(\d+)/gi, function (all,c1,c2) {  // c1 and c2 are capture groups
                let ret = "";
                while (c2--) { ret += " "+c1; }
                return ret;
            });
    s = s.trim();
    return s.split(/\s+/);
}
function sp_fillcusp() {
    let x, y;

    relcu = [];
    for (x in cusp) {
        relcu[x] = [];
	for (y in cusp[x]) {
	    let r = (cusp[x][y] & 0xff00) >> 8;   // extract the ring teeth, encoded in the upper byte
	    relcu[x].push( (cusp[x][y]&0xff) / r );   // divide into the gear teeth, in lower byte
	    //console.log("sp_fillcusp() ", cusp[x][y], r, relcu[x][y]);
	}
    }
}
function sp_fillratio() {
    let x;

    calcRatio = [];
    for (x in fewRatio) {
	let rr = (fewRatio[x] & 0xff00) >> 8;   // extract the ring teeth, encoded in the upper byte
	calcRatio.push(  (fewRatio[x]&0xff) / rr);  // divide into the gear teeth in lower byte
    }
}
function sp_sched() {
    if (Mode == "manual") {
        return;
    }
    sp_new();
    //console.log("sp_sched()");
    // Wait some milliseconds in the circumstance where user is changing
    // element's value very rapidly with mouse scrollwheel.
    Dirty = true;
    setTimeout(sp_background, 200);
}
function sp_manual() {
    let elem  = document.getElementById("manual");
    if ( elem.checked ) {
        Mode = "manual";
    }
}
function sp_automatic() {
    let elem  = document.getElementById("automatic");
    if ( elem.checked ) {
	Mode = "automatic";
    }
}
function sp_abstract() {
    let elem;
    root.style.setProperty('--classic_vis', 'hidden');
    root.style.setProperty('--reality_vis', 'hidden');
    root.style.setProperty('--abstract_vis', 'visible');
    root.style.setProperty('--relabs_vis', 'visible');
    Control = "abstract";
    elem  = document.getElementById("classic");
    elem.setAttribute("style", "font-size:medium");
    elem  = document.getElementById("reality");
    elem.setAttribute("style", "font-size:medium");
    elem  = document.getElementById("abstract");
    elem.setAttribute("style", "font-size:x-large");
    document.getElementById("label2").innerHTML = c_rtlist;
    document.getElementById("label5").innerHTML = c_gtlist;
    document.getElementById("label10").innerHTML = c_polist;

    sp_fillcusp();
    theCusp = sp_get_cusp();
    sp_fillratio();
    theRatio = Math.floor(fewRatio.length/2);
    //console.log("sp_abstract() ", theRatio);
}
function sp_reality() {
    let elem;
    root.style.setProperty('--classic_vis', 'hidden');
    root.style.setProperty('--reality_vis', 'visible');
    root.style.setProperty('--abstract_vis', 'hidden');
    root.style.setProperty('--relabs_vis', 'visible');
    Control = "reality";
    elem  = document.getElementById("classic");
    elem.setAttribute("style", "font-size:medium");
    elem  = document.getElementById("reality");
    elem.setAttribute("style", "font-size:x-large");
    elem  = document.getElementById("abstract");
    elem.setAttribute("style", "font-size:medium");
    document.getElementById("label2").innerHTML = c_rtlabel;
    document.getElementById("label5").innerHTML = c_gtlabel;
    document.getElementById("label10").innerHTML = c_polist;
}
function sp_classic() {
    let elem;
    root.style.setProperty('--classic_vis', 'visible');
    root.style.setProperty('--reality_vis', 'hidden');
    root.style.setProperty('--abstract_vis', 'hidden');
    root.style.setProperty('--relabs_vis', 'hidden');
    Control = "classic";
    elem  = document.getElementById("classic");
    elem.setAttribute("style", "font-size:x-large");
    elem  = document.getElementById("reality");
    elem.setAttribute("style", "font-size:medium");
    elem  = document.getElementById("abstract");
    elem.setAttribute("style", "font-size:medium");
    document.getElementById("label2").innerHTML = c_rtlabel;
    document.getElementById("label5").innerHTML = c_gtlabel;
    document.getElementById("label10").innerHTML = c_polabel;
    //console.log("sp_classic() ", Control);
}
function sp_set_ringtable(rt) {
    let angle;
    let tooth;

    for (tooth = 0; tooth < rt; ++tooth) {
        angle = (tooth * twopi) / rt;
	discX[tooth] = (R-r) * Math.cos(angle);
	discY[tooth] = (R-r) * Math.sin(angle);
    }
    //console.log("sp_set_ringtable()", discX[tooth]);
}
function sp_set_geartable(ph) {
    let angle;
    let idx;

    for (idx = 0; idx < division; ++idx) {
        angle = (idx * twopi) / division;
	gearX[idx] = ph * Math.cos(angle);
	gearY[idx] = ph * Math.sin(angle);
    }
    //console.log("sp_set_geartable()", gearX[division-1], angle);
}
function sp_background() {
    if ( ! Dirty ) {
        return;
    }
    Dirty = false;

    let initX, initY;
    let c = document.getElementById("myCanvas");
    let ctx = c.getContext("2d");
    let iter;
for (iter = 0; iter < Math.max(ringTeeth.length, gearTeeth.length, Penhole.length); ++iter) {

    let rite;  // local for RIng TEeth to use for this iteration
    rite = ringTeeth.shift();
    ringTeeth.push(rite);
    rite = Math.round(Number(rite));
    if ( isNaN(rite) ) {
        return;
    }
    if ( rite < 1) {
        rite = 1;
    }

    let gete;  // local for GEar TEeth to use for this iteration
    gete = gearTeeth.shift();
    gearTeeth.push(gete);
    gete = Math.round(Number(gete));
    if ( isNaN(gete) ) {
        return;
    }
    if ( gete < 1 ) {
        gete = 1;
    }

    let gcd = GCD(rite, gete);
    let hue;
    let penwidth; 
    r = 1.0 * R * (gete/rite);

    sp_set_ringtable(rite);

    revolution = gete/gcd;
    k          = rite/gcd;
    rotation   = k - revolution;
    division   = revolution * rite;
    [rotation, division] = optimize(rotation, division);

    let penhole = Penhole.shift();
    Penhole.push(penhole);
    penhole = Number(penhole);
    penhole = r * penhole/100.0;

    sp_set_geartable(penhole);

    let repeat = Repeat + 1;
    //console.log("0.1 sp_back()", Repeat, Skip, repeat);
    while (repeat-- > 0) {
        let moveTo = 0;
        let gear = (repeat * Skip) % division; // initial tooth the ambulatory gear is on
        for (let rev=0; rev < revolution; ++rev) {
	    for (let tooth=0; tooth < rite; ++tooth) {

	        // Add the two Cartesian coordinates
	        let x_pt = discX[tooth] + gearX[gear];
		let y_pt = discY[tooth] + gearY[gear];

		//console.log("0.2 sp_back()", tooth, gear, division);

		if (false) {  // Future enhancement?
		    gear = (gear + Anticlockwise * rotation) % division;  // modulo
		}
		else {
		    gear = gear - rotation;
		    gear = modulo(gear, division);
		}

		let X = Math.round( x_pt + 400.0 );
		let Y = Math.round( -1.0 * y_pt + 400.0 );

		//console.log("sp_back()", X, Y);  // debugging

		if (moveTo++) {
		    ctx.lineTo(X, Y);
		}
		else {
		    initX = X;
		    initY = Y;
		    ctx.beginPath();

		    hue = Color.shift();
		    Color.push(hue);
		    ctx.strokeStyle = hue;

		    penwidth = Thickness.shift();
		    Thickness.push(penwidth);
		    ctx.lineWidth = penwidth;

		    ctx.moveTo(initX, initY);
     //console.log("0.8 sp_background()", initX, initY, repeat, penwidth);
		}
	    }
	}
	ctx.lineTo(initX, initY);
        if ( hue.localeCompare("skip") ) {
	    ctx.stroke();
	}
    }
  }
    //console.log("1 sp_background()", gcd, R, r, penhole, rotation, division);
}
function sp_skip() {
    let elem  = document.getElementById("skip");
    Skip = Number(elem.value);
    //console.log("sp_skip() ", Skip);
    sp_sched();
}
function sp_repeat() {
    let elem  = document.getElementById("repeat");
    Repeat = Number(elem.value);
    //console.log("sp_repeat() ", Repeat);
    sp_sched();
}
function sp_thick() {
    let elem  = document.getElementById("thickness");
    Thickness = sp_expand(elem.value);
    //console.log("sp_thick() ", Thickness);
    sp_sched();
}
function sp_color() {
    let elem  = document.getElementById("color");
    Color = sp_expand(elem.value);
    //console.log("sp_color() ", Color);
    sp_sched();
}
function sp_penhole() {
    let elem;
    if ( !Control.localeCompare("classic")) {
	elem  = document.getElementById("penhole");
	Penhole = [elem.value];
    }
    else {
	elem  = document.getElementById("penholelist");
	Penhole = sp_expand(elem.value);
    }
    //console.log("sp_penhole() ", Penhole);
    sp_sched();
}
function sp_ring() {
    let elem;
    if ( !Control.localeCompare("classic")) {
	elem  = document.getElementById("selring");
	ringTeeth = [ elem.value ];
    }
    else if ( !Control.localeCompare("reality")) {
	elem  = document.getElementById("ringteeth");
	ringTeeth = [ elem.value ];
    }
    else {
	elem  = document.getElementById("ringtext");
	ringTeeth = sp_expand(elem.value);
    }
    //console.log("sp_ring() ", ringTeeth);
    sp_sched();
}
function sp_gear() {
    let elem;
    if ( !Control.localeCompare("classic")) {
	elem  = document.getElementById("selgear");
	gearTeeth = [ elem.value ];
    }
    else if ( !Control.localeCompare("reality")) {
	elem  = document.getElementById("gearteeth");
	gearTeeth = [ elem.value ];
    }
    else {
	elem  = document.getElementById("geartext");
	gearTeeth = sp_expand(elem.value);
    }
    //console.log("sp_gear() ", gearTeeth);
    sp_sched();
}
function sp_setringgear(encoding) {
    ringTeeth = [  (encoding & 0xff00) >>8 ];
    gearTeeth = [  (encoding & 0xff)  ];
    document.getElementById("ringtext").value = ringTeeth[0];
    document.getElementById("geartext").value = gearTeeth[0];
    //console.log("sp_setringgear() ", ringTeeth[0], gearTeeth[0]);
}
function sp_get_cusp() {
    let ret = Number(document.getElementById("cusp").value);
    if ( isNaN(ret) ) {
        return 7;
    } else if (ret < 2) {
        return 2;
    } else if (ret > 119) {
        return 119;
    }
    return ret;
}
function sp_get_ratio() {
    let elem;
    elem  = document.getElementById("ratio");
    return Number(elem.value);
}
function sp_cusp() {
    theCusp   = sp_get_cusp();
    relRatio  = Math.floor(relcu[theCusp].length/2);
    document.getElementById("relratio").value = relcu[theCusp][relRatio];

    sp_setringgear(cusp[theCusp][relRatio]);
    //console.log("sp_cusp() ", theCusp, relRatio);
    sp_sched();
}
function sp_relratio() {
    let elem, rr;
    elem  = document.getElementById("relratio");
    rr    = Number(elem.value);
    theCusp    = sp_get_cusp();

    relRatio = (rr > relcu[theCusp][relRatio]) ?  ++relRatio : --relRatio;
    relRatio = modulo(relRatio, relcu[theCusp].length);
    document.getElementById("relratio").value = relcu[theCusp][relRatio];

    sp_setringgear(cusp[theCusp][relRatio]);
    //console.log("sp_relratio() ", theCusp, relRatio, relcu[theCusp][relRatio]);
    sp_sched();
}
function sp_ratio() {
    let rr = sp_get_ratio();
    //console.log("sp_ratio.0 ", theRatio, rr, calcRatio[theRatio]);
    theRatio =  (rr > calcRatio[theRatio] ) ? ++theRatio : --theRatio;
    theRatio = modulo(theRatio, fewRatio.length);
    document.getElementById("ratio").value = calcRatio[theRatio];

    sp_setringgear(fewRatio[theRatio]);
    //console.log("sp_ratio() ", theRatio);
    sp_sched();
}
function sp_new() {
     let c = document.getElementById("myCanvas");
     let ctx = c.getContext("2d");
     ctx.fillStyle = "#ffffff";
     ctx.fillRect(0, 0, 800, 800);
}
function sp_draw() {
    sp_ring();
    sp_gear();
    sp_penhole();
    sp_color();
    sp_thick();
    sp_repeat();
    sp_skip();
    Dirty = true;
    setTimeout(sp_background, 0);
}
function sph_thick() {
    alert("The thickness (or darkness or boldness) of the curve to be drawn.\n"
    +     "Decimal point is allowed.  Value 0.2 is a very fine line, 1.0 average, 3.0 bold.\n"
    +     "SEE ALSO color help for x<num> repetition shortcut\n\n\n"
    );
}
function sph_penhole() {
    alert("The penhole location on the moving gear.  The value represents the offset expressed\n"
    +     "as a percentage from the center toward the edge.\n"
    +     "A value of 0 is the center of the gear, and the resulting curve is a circle.\n"
    +     "A value of 100 is the edge of the gear, and the resulting curve is a hypocycloid.\n"
    +     "Negatives are allowed.  Try -63  63 with two complementary colors.\n\n\n"
    );
}
function sph_color() {
    alert("Enter a list of colors using HTML conventions, eg.\n\n"
    +     "    blue  gold  #d1ac23  hsl(0,100%,50%)\n\n"
    +     "Use the word 'skip' to not draw anything for that repeat.\n"
    +     "Use x<num> after the color name as a shortcut for repetition, eg.\n\n"
    +     "    bluex4 skipx2 gold\n\n"
    +     "Or even\n\n"
    +     "    (blue gold)x2  skip  (red pink)x2\n\n\n"
    );
}
</script>
</head>

<body>
<div class="clearfix">
  <div id="myDiv" class="column drawable" xxonresize="sp_resize()">
    <canvas id="myCanvas" height="800" width="800"> </canvas>
  </div>

  <div class="column menu">
  <input type="radio" id="manual" name="mode" onclick="sp_manual()" value="manual" checked>
  <label for="manual">Manual</label>
  <input type="radio" id="automatic" name="mode" onclick="sp_automatic()" value="automatic">
  <label for="automatic">Automatic</label>
  <br>
        <ul>
	  <li class=clickable id=classic  onclick="sp_classic()"  xxstyle=font-size:medium>  Classic  </li>
	  <li class=clickable id=reality  onclick="sp_reality()"  xxstyle=font-size:medium>  Reality  </li>
	  <li class=clickable id=abstract onclick="sp_abstract()" xxstyle=font-size:medium> Abstract </li>
	</ul>
  </div>
  <div class="column menu">
  <form>
  <label id="label2" for="selring">Ring Teeth</label>
  <select class=classic id="selring" name="selring" onchange="sp_ring()">
    <option value=105>105</option>
    <option value=96>96</option>
  </select>
  <input class="medint reality" type=number id="ringteeth" name="ringteeth" onchange="sp_ring()" min=20 max=120 value=105><br>
  <br>
  <input class=abstract type="text" id="ringtext" name="ringtext" onchange="sp_ring()" value=105><br>
  <label id="label5" for="selgear">Gear Teeth</label>
  <select class=classic id="selgear" name="selgear" onchange="sp_gear()">
    <option value=84>84</option>
    <option value=80>80</option>
    <option value=75>75</option>
    <option value=72>72</option>
    <option value=63>63</option>
    <option value=60 selected>60</option>
    <option value=56>56</option>
    <option value=52>52</option>
    <option value=48>48</option>
    <option value=45>45</option>
    <option value=42>42</option>
    <option value=40>40</option>
    <option value=32>32</option>
    <option value=30>30</option>
    <option value=24>24</option>
  </select>
  <input class="medint reality" type=number id="gearteeth" name="gearteeth" onchange="sp_gear()" min=0 max=119 value=56><br>
  <br>
  <input class=abstract type="text" id="geartext" name="geartext" onchange="sp_gear()" value=56><br>
  <br>
  <div class="abstract reality">
  <label for="cusp">Cusps </label>
  <input class="smallint" type="number" id=cusp name=cusp onchange="sp_cusp()" min=2 max=119 value=7>
  <label for="relratio">by ratio</label>
  <input class="smallint" type="number" id="relratio" onchange="sp_relratio()" step="0.01" value="0.05">
  <br>
  <label for="ratio">Gear/Ring Ratio</label>
  <input class="medfloat" type="number" id="ratio" onchange="sp_ratio()" step="0.005" value=0.5>
  <br>
  </div>
  <label id=label10 for="penhole">Penhole Offset %</label>
  <a class=clickable style="font-size:large; color:#339ec4" onclick="sph_penhole()">&#9432</a>
  <input class="classic medint" type="number" id="penhole" name="penhole" onchange="sp_penhole()" min="0" max="100" value="64">
  <br>
  <input class="relabs" type="text" id="penholelist" onchange="sp_penhole()" value="63"><br>
  <br>
  <label for="color">Pen Color (list) <a class=clickable style="font-size:large; color:#339ec4" onclick="sph_color()">&#9432</a></label><br>
  <input type="text" id="color" name="color" onchange="sp_color()" value="blue  royalblue  #1e90ff  skyblue"><br>
  <br>
  <label for="color">Pen Thickness (list) <a class=clickable style="font-size:large; color:#339ec4" onclick="sph_thick()">&#9432</a></label><br>
  <input type="text" id="thickness" name="thickness" onchange="sp_thick()" value="0.6  0.8  1.0  1.2"><br>
  <br>
  <label for="repeat">Repeat </label>
  <input class="smallint" type="number" id="repeat" name="repeat" onchange="sp_repeat()" size="2" value="4" min="0" max="9999" step="1">times after<br>
  <label for="skip">skipping </label>
  <input class="smallint" type="number" id="skip" name="skip" onchange="sp_skip()" size="2" value="1" min="0" step="1">teeth.<br>

  <br>
  <button class="butt99" type="button" name="draw" onclick='sp_draw()' value="Draw"> Draw </button>
  <button class="butt99" type="button" name="new"  onclick='sp_new()'  value="New">  New </button><br>
  </form>
  </div>
</div>
<script>
sp_manual();
sp_classic();
sp_automatic();
sp_ring();
sp_gear();
sp_penhole();
sp_color();
sp_thick();
sp_repeat();
sp_skip();
sp_new();
sp_draw();
</script>
</body>
</html>
